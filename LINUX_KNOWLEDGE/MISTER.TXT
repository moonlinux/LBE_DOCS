PREPARAR LA TARJETA SD
======================

No hace falta ningún programa de Windows. Simplemente hazle este layout con gparted (en principio crea las particiones como tipo EXT4, da igual, luego lo vas a cambiar con FDISK):

New layout is pretty simple:
Part1: Start from 1MB till the end of SD card minus 1MB at the end. Type: exFAT
Part2: Starts from last 1MB of SD card with size of 1MB. Type: 0xA2
And now dd u-boot binary to Part2.

Usando FDISK, pon el tipo de partición 7 para la primera partición (exFAT) y el tipo A2 para la segunda. Te dirá que el tipo 2A es desconocido, da igual porque la vas a machacar con el u-boot.img. 
El u-boot.img viene de:
https://github.com/MiSTer-devel/SD-Installer-Win64_MiSTer

Formatea la partición 1 como exFAT con: mkfs.exfat /dev/sdb1
(mkfs.exfat está en el paquete exfat-utils)

Y ahora simplemente te bajas los ficheros que han de ir en la SD, que están en la guía:
https://github.com/MiSTer-devel/Main_MiSTer/wiki/Setup-Guide
Y los metes en la tarjeta. Tienes que tener tres cosas principalmente: el directorio linux, y los archivos MiSTer y menu.rfb; Con eso ya arranca desde la SD porque le has
flasheado el uboot antes. A mayores, pues los cores que le quieras ir metiendo, cada uno tiene sus particularidades pero van el el raiz los rbf de cada core.

MEJORAR LA LATENCIA DE LOS USB
=============================

Crea el fichero
/media/fat/linux/u-boot.txt

Con el contenido
v=loglevel=4 usbhid.jspoll=1

Y reincia. Comprueba que todo está bien con:
systool -m usbhid -A jspoll

ROM JIFFYDOS PARA EL C64
========================

from a unix shell I did:

cat 901226-01.bin JiffyDOS_C64.bin JiffyDOS_C1541.bin > boot.rom

Where 901226-01.bin is the C64 BASIC ROM.

Then placed boot.com in my C64 directory on the micro SD card. The C64 core is called "C64".

CARGAR RÁPIDO CON JIFFYDOS Y SIN JIFFYDOS
========================================

Con JiffyDos:
Para listar, F1 e intro.
PARA CARGAR Y EJECUTAR: F5, F1 e intro.

Sin JiffyDOS, 
cargamos con: LOAD"*",8
y luego RUN

CARGAR JUEGOS EN TRD EN EL CORE DE ZX SPECTRUM
==============================================

Lo primero, como debes saber el core tiene la ROM del Spectrum en /media/fat/spectrum.rom
Vale, pues usa el spectrum.rom que viene con el REAL COMMANDER.
Ahora, simplemente inicia el core, inserta el TRD, pulsa F11, y en el menú elige el IANNA.BAS o como se llame. Listo.ç
Para resetear, ALT+F11.

Hay juegos que son autoarrancables, como el Fire&Ice. Para estos podrías hacer lo mismo, o bien lanzarlos a mano: 
-entrar en el TR-DOS (esto sale en el menú cargador del Spectrum si estás en modo 128K/+2 o Pentagon)
-ahí dale a la K para LIST si quieres ver los archivos, verás que hay uno llamado BOOT
-ahora dale a la R para RUN, e intro, y el juego irá.

PROGRAMA PARA CONVERTIR MODELINES DE XORG A video_mode DE LA MISTER
===================================================================

Simplemente es irle metiendo, en el órden en que salen en la página, los parámetros del modeline que quieras, y que puedes generar con el
generador de modelines de https://arachnoid.com/modelines/
NO copies los decimales del último parámetro del resultado (deberían ser ceros, de todos modos, pero no los copies).

#include <stdio.h>

int main () {
        float clock;
        int hdisp, hsyncstart, hsyncend, htotal, vdisp, vsyncstart, vsyncend, vtotal;

        printf ("CLOCK: ");
        scanf ("%f", &clock);
        printf ("HDISP: ");
        scanf ("%d", &hdisp);
        printf ("HSYNCSTART: ");
        scanf ("%d", &hsyncstart);
        printf ("HSYNCEND: ");
        scanf ("%d", &hsyncend);
        printf ("HTOTAL: ");
        scanf ("%d", &htotal);
        printf ("VDISP: ");
        scanf ("%d", &vdisp);
        printf ("VSYNCSTART: ");
        scanf ("%d", &vsyncstart);
        printf ("VSYNCEND: ");
        scanf ("%d", &vsyncend);
        printf ("VTOTAL: ");
        scanf ("%d", &vtotal);
    
        printf ("video_mode=%d,%d,%d,%d,%d,%d,%d,%d,%f\n", hdisp, hsyncstart - hdisp, hsyncend - hsyncstart, htotal - hsyncend,
                                                        vdisp, vsyncstart - vdisp, vsyncend - vsyncstart, vtotal - vsyncend,
                                                        clock * 1000);


CREAR IMÁGENES DE DISCO DURO DE ATARIST Y LUEGO MONTARLAS EN LINUX
==============================================================

PREVIO: El sistema y driver de discos original de Atari para los AtariST se llamaba AHDI. Tiene limitaciones del copón como que sólo puede arrancar desde particiones de tipo GEM de menos i igual de 16Megas,
luego tampoco se pueden hacer particiones GEM de más de 32MB, etc.. es una mierda.
Tenemos dos tipos de particiones, las GEM y las BGM. Las BGM son las modernas (varios GB, etc), que se pueden hacer desde el ICD y que van con el driver ICD. Vamos a usar particiones BGM, claro.

Empezamos creando un fichero para contener la imágen de 200MB:
dd if=/dev/zero of=hdd200m.vhd count=200 bs=1M

Ahora tenemos que formatearla, particionarla e instalarle el driver ICD.
Para ello, lo primero es crear un DSK normal usando HATARI (no hay que tocar nada, sólo un DSK como viene por defecto.
Luego ese DSK lo monatamos en Linux (sin offset ni nada) y le metemos los contenidos del fichero de aquí:
http://joo.kie.sk/wp-content/uploads/2013/05/icdp655a.zip
Ahora arrancamos el HATARI con la imágen de HDD y el DSK, y cargamos el programa del DSK que se llama ICDFMT.PRG.
En el ICDFMT
-Primero nos vamos a FORMAT y formateamos el disco.
-Una vez hecho eso, vamos a PARTITIONS.
Una vez en el menú de particionado, le damos al botón PARAMETERS y ponemos ATARI AHDI COMPATIBLE a NO, MAP BAD SECTORS a SCSI, y VERIFY PASSES a 0  
Luego volvemos al menú principal de particionado, y borramos todass las particiones y sólo creamos UNA de 200MB (o de lo que sea) que ocupe todo el disco, de formado BGM
(las particiones GEM están limitadas a 32MB o algo así...).
Cuidado de tener el check puesto en la columna ON.
Cuando lo tengas todo listo, dale a PARTITION ENTIRE HARD DISK. Se hará el particionado.
-Una vez particionado, se reseteará el sistema. Entonces verás que se carga el driver ICD desde el diskette, y ya vemos la unidad C, pero para no tener que tener el diskette puesto
tenemos que instalar el driver ICD en el disco duro en sí.
Para ello, cargamos el programa HDUTIL.PRG del diskette, le damos a BOOT, seleccionamos la unidad C, le damos a INSTALL y se instalará allí el driver.
Ya podemos sacar el diskette y arrancará sin problemas detectando el disco duro.

Y ahora ya salimos de HAYATI y ya podemos montar la imágen de disco así, paśandole el offset ya que como de costumbre estas imágenes tienen cosas antes de las particiónes:
sudo mount -t vfat -o loop,offset=512 hdd200m.vhd hdd

Ahí ya metemos lo que queramos.
Tienes juegos instalados en disco a saco aquí:
https://atari.8bitchip.info/fromhd2.php#DL
