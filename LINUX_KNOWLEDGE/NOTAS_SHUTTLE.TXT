-Añadimos los parámetros del kernel que queramos en /etc/default/grub, y ejecutamos update-grub para que los meta en /boot/grub/grub.cfg
(NUNCA editamos a mani /boot/grub/grub.cfg porque es sobreescrito por update-grub con info de /etc/default/grub)

-Para cambiar de modo de vídeo, hay que añadir:
video="HDMI-A-2:1280x720@60"

-Para que no nos salgan los interfaces de red con nombres raros hay que añadir:
"net.ifnames=0"

******SERVICIOS A DESACTIVAR**********
--Desactivar swap--

Miramos cómo se llama el servicio de swap:
systemctl --type swap

Por ejemplo nos sale que se llama:
dev-disk-by\x2duuid-a31245cc\x2db81d\x2d4e3f\x2daf9c\x2d95c6d1bf02f4.swap

Desactivamos con:
systemctl mask 'dev-disk-by\x2duuid-a31245cc\x2db81d\x2d4e3f\x2daf9c\x2d95c6d1bf02f4.swap

MUCHO OJO CON LA COMILLA SIMPLE AL PRINCIPIO O AL FINAL, O NO FUNCIONARÁ.


--Otras cosas a desactivar--

Puedes ver los tipos de servicios con:
systemctl -t help
Y luego escribir algo como:
systemctl -t service
...Para ver descripciones de lo que hacen.

Si quieres volver a activar algo que has desactivado por error y no arranca, etc... puedes ir a /etc/systemd/system/
y borrar el symlink correspondiente, así volverá a funcionar ese servicio o lo que sea.

Para ver el inicio, pudes hacer:
systemctl mask getty.target
...y Cuando lo hayas visto, hacer:
systemctl unmask getty.target

LISTA DE COSAS QUE SE PUEDEN MASKEAR TRANQUILAMENTE:
systemctl mask cron.service
systemctl mask console-setup.service
systemclt mask systemd-timesyncd.service
systemctl mask systemd-journald.service
systemctl mask systemd-journal-flush.service
systemctl mask systemd-journald.socket
systemctl mask systemd-journald-dev-log.socket
systemctl mask systemd-update-utmp.service
systemctl mask systemd-sysusers.service
systemctl mask systemd-random-seed.service
systemctl mask systemd-user-sessions.service
systemctl mask systemd-tmpfiles-setup.service
systemctl mask systemd-update-utmp-runlevel.service
systemctl mask systemd-rfkill.socket
systemctl mask systemd-tmpfiles-clean.timer
systemctl mask systemd-logind.service
systemctl mask sys-fs-fuse-connections.mount
systemctl mask e2scrub_reap.service
systemctl mask wpa_supplicant.service
systemctl mask rsyslog.service
systemctl mask dbus.service
systemctl mask ssh.service
systemctl mask apparmor.service
systemctl mask networking.service
systemctl mask sys-kernel-debug.mount
systemctl mask sys-kernel-tracing.mount
systemctl mask dev-mqueue.mount
systemctl mask sockets.target
systemctl mask apt-daily-upgrade.timer
systemctl mask apt-daily.timer
systemctl mask dpkg-db-backup.timer
systemctl mask dpkg-db-backup.service
systemctl mask logrotate.timer
systemctl mask man-db.timer
systemctl mask fstrim.timer
systemctl mask e2scrub_all.timer
systemctl mask swap.target
systemctl mask remote-fs.target
systemctl mask cryptsetup.target

UNA VEZ INSTALADO Y CON RED PROPIA, DEJAMOS /etc/apt/sources.list así (sustituye bookworm por la versión de Debian que estés usando):

deb http://deb.debian.org/debian bookworm main contrib non-free
deb-src http://deb.debian.org/debian bookworm main contrib non-free

deb http://deb.debian.org/debian-security/ bookworm-security main contrib non-free
deb-src http://deb.debian.org/debian-security/ bookworm-security main contrib non-free

deb http://deb.debian.org/debian bookworm-updates main contrib non-free
deb-src http://deb.debian.org/debian bookworm-updates main contrib non-free

Y ya ponemos hacer apt-get update && apt-get upgrade

-Ponemos los LOCALES con: dpkg-reconfigure locales. Elegimos que se generen en_US.UTF8 y es_ES.UTF, y dejamos puesto en_US.UTF8.
ESTO nos quita errores de teclado a través de SSH, ya que necesitamos los LOCALES de la máquina cliente también.

VAMOS CON EL SONIDO:

-Instalamos alsa-utils:
apt-get install alsa-utils

Ahora vemos qué cards y devices hay con: aplay -l
Vemos que el HDMI2, que es el que suena en este cacharro, aparece listado como:
card 0: PCH [HDA Intel PCH], device 8: HDMI 2 [HDMI 2]

Lo probamos con speaker-test:
speaker-test -c2 -D hw:0,8

Así que ahora creamos /etc/asound.conf con este contenido:
defaults.pcm.card 0
defaults.pcm.device 8
...Y ya suena todo lo de ALSA por defecto por el HDMI!
