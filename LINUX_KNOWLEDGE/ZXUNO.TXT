CARGAR DISCOS DE C64
====================

Sin los atajos del Jiffydos:
Cargamos el listado de archivos del disco:
LOAD "$",8 
LIST.

Cargamos el primer archivo del disco:
LOAD "*",8 
RUN

MONTAR PARTICIÓN FAT16 desde DOSBOX
====================================

imgmount d MSX3.IMG -size 512,32,64,30528

Son los valores: sectorsbytesize, sectorsperhead, heads, cylinders

Lo sacamos todo de fdisk, con: 
fdisk -l -u=cylinders

Para el segundo campo, sectorsperhead, debes usar los "sectors/track".
Lo demás te lo da todo fdisk -u=cylinders tal cual


APUNTES 1CHIPMSX
=================

-Cargar el BUBBLE BOBBLE:
romload bubble.rom /A /S
-Cargar el SWORD OF IANNA:
configura el segundo slot como ASCII-16K
mgload ianna.rom /S02
reset

-Los programas en BASIC que fallen los puedes arreglar con POKE -1,0
Para cargar el .BAS y editarlo, desde MSX-DOS entra en BASIC:
BASIC
Ahora carga el archivo:
LOAD "archivo.bas" (tienes las comillas al lado derecho de la ñ, si no tienes el teclado en español)
Puedes ver su contenido con LIST
Añade el poke en la primera línea, la 10 por ejemplo:
10 POKE -1,0
Confirma que está con LIST, y salva con SAVE "archivo.bas" 

CONFIGURACIÓN IDEAL DE VÍDEO PARA MONITOR LG
============================================

En el ZXUNO, CSYNC a PAL, video VGA, SCANLINES ENABLED, FREQUENCY 51
Y en el monitor, CLOCK a 86, PHASE a 50, y luego el ajuste horizontal y vertical que quieras.



DESBRICKEAR EL ZXUNO DESDE LINUX
================================

Se hace con el urgjtag, que NO puedes instalar desde apt sino que tienes que compilarlo tú.
Lo primero instala:
sudo apt-get install libftdi-dev libusb-dev python-dev libtool autopoint

Ahora clona el repo más reciente de urgjtag de:
git clone --depth 1 https://github.com/shuckc/urjtag.git

Ahora ejecuta autogen.sh

Ahora configura con:
./configure --prefix=usr
Fíjate bien que haya detectado libftdi y libusb!!!
Ahora compila con make -j4 e instala con sudo make install
Ahora intenta ejecutar "jtag". Si te dice que no encuentra la librería liburjtag, es porque el script de instalación se empeña en instalarlas en /usr/local/lib. MAAAAL.
Las movemos a /usr/lib:
mv /usr/local/lib/liburjtag.* /usr/lib/
Ya debería ir jtag.

Si ya va, pues conecta el ZXUNO a la corriente, y conéctalo al PC por USB usando el USB Blaster a su conector JTAG (sólo entra en un sitio!)

Una vez en jtag, le dices:
cable usbblaster
detect
pld load <RUTA_COMPLETA_A_RECOVERY.BIT>
Usa el recovery.73.bit, no el antiguo sino el .73 ese, que tiene que ocupar 16M.
Y pásale la ruta completa. Si te da un error del comando load, es que no está encontrando el fichero recovery.bit.

Feliz unbricking!

PASAR ROMS NUEVAS DE SPECTRUM A LA BIOS PARA ARRANCAR DESDE MODELOS NUEVOS
==========================================================================

Puedes bajarte las ROMs desde

http://svn.zxuno.com/svn/zxuno/firmware/roms/

Luego, la ROM que quieras la pasas a TAP con genrom, que viene aquí:

https://github.com/antoniovillena/zxuno.git

Está en la carpeta firmware.
Compila genrom con:

gcc GenRom.c -o genrom
sudo cp genrom /usr/bin

Ahora la conviertes a TAP con (para la ROM 128K, por ejemplo):
genrom dnxth1 "Spectrum 128K EN" 128en.rom 128en.tap

Si fuese un juego de 48k, serían los parámetros: xlh17
Y un juego de 128k, serían los parámetros: xth1
(esto se ve en https://github.com/antoniovillena/zxuno/blob/master/firmware/generaflash_multi.bat, en la parte de las llamadas "call :CreateRom"

Una vez que tienes la ROM en TAP, la pasas a WAV con tape2wav, que está en el paquete de fuse-emulator-utils:
sudo apt-get install fuse-emulator-utils

Ahora, entras en la BIOS del ZXUNO, y donde las ROMs borras las que quieras, y para añadir una nueva
pulsas la tecla N. Piensa que necesitas a veces 2 slots por ROM, o sea que si la última está en la 12, intenta meter la nueva en
el slot 14, NO en el 13 porque no te va a dejar.

Cuando te salga "header: ", pulsas PLAY en el VLC, y listo, a subir la nueva ROM!


Ahora 
